{"version":3,"sources":["webpack:///F:/boke/wxcomponents/hch-poster/hch-poster.vue?4bb4","webpack:///F:/boke/wxcomponents/hch-poster/hch-poster.vue?1ec9","webpack:///F:/boke/wxcomponents/hch-poster/hch-poster.vue?b6e8","webpack:///F:/boke/wxcomponents/hch-poster/hch-poster.vue?3d53","webpack:///F:/boke/wxcomponents/hch-poster/hch-poster.vue","webpack:///F:/boke/wxcomponents/hch-poster/hch-poster.vue?823e","webpack:///F:/boke/wxcomponents/hch-poster/hch-poster.vue?17de"],"names":["data","props","canvasFlag","type","Boolean","default","posterObj","Object","url","title","code","methods","roundRect","ctx","x","y","w","h","r","fillColor","strokeColor","btn","beginPath","arc","Math","PI","moveTo","lineTo","grd","createLinearGradient","addColorStop","setFillStyle","fill","setStrokeStyle","stroke","closePath","clip","canvasMultiLineText","text","contentWidth","lineNumber","textArray","split","temp","row","i","length","measureText","width","push","rowCut","slice","rowPart","test","empty","a","group","splice","codeImg","Promise","resolve","reject","request","method","header","version","$parent","globalData","scene","sku","page","then","res","fsm","wx","getFileSystemManager","FILE_BASE_NAME","filePath","env","USER_DATA_PATH","writeFile","encoding","success","fail","uni","showToast","duration","icon","message","catch","createCanvasImage","console","log","showLoading","_this","phoneData","getSystemInfoSync","phoneH","windowHeight","phoneW","windowWidth","scaleW","scaleH","createCanvasContext","closeBtn","draw","save","restore","getImageInfo","src","drawImage","path","setTimeout","setGlobalAlpha","setFontSize","font","contentTextY","leftSpace","textLineHeight","b","fillText","hideLoading","saveCanvasImage","canvasToTempFilePath","height","destWidth","destHeight","canvasId","saveImageToPhotosAlbum","tempFilePath","res2","canvasCancelEvn","$emit"],"mappings":"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","file":"wxcomponents/hch-poster/hch-poster.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./hch-poster.vue?vue&type=template&id=4d85f052&\"\nvar renderjs\nimport script from \"./hch-poster.vue?vue&type=script&lang=js&\"\nexport * from \"./hch-poster.vue?vue&type=script&lang=js&\"\nimport style0 from \"./hch-poster.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('4d85f052')) {\n      api.createRecord('4d85f052', component.options)\n    } else {\n      api.reload('4d85f052', component.options)\n    }\n    module.hot.accept(\"./hch-poster.vue?vue&type=template&id=4d85f052&\", function () {\n      api.rerender('4d85f052', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"F:/boke/wxcomponents/hch-poster/hch-poster.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./hch-poster.vue?vue&type=template&id=4d85f052&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./hch-poster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./hch-poster.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default{\n\tdata(){\n\t\treturn{\n\t\t\t\n\t\t}\n\t},\n\tprops:{\n\t\tcanvasFlag:{\n\t\t\ttype:Boolean,\n\t\t\tdefault:true,\n\t\t},\n\t\tposterObj:{\n\t\t\ttype:Object,\n\t\t\tdefault:{\n\t\t\t\turl:'https://img0.zuipin.cn/mp_zuipin/poster/hch-pro.jpg',//商品主图\n\t\t\t\ttitle:\"诗酒茶系列 武夷大红袍 2018年 花香型中火 一级 体验装 16g\",//标题\n\t\t\t\tcode:'https://img0.zuipin.cn/mp_zuipin/poster/hch-code.png'//小程序码\n\t\t\t}\n\t\t}\n\t},\n\tmethods:{\n\t\t// 海报\n\t\t// 画圆角矩形 ctx、x起点、y起点、w宽度、h高度、r圆角半径、fillColor填充颜色、strokeColor边框颜色\n\t\troundRect(ctx, x, y, w, h, r, fillColor, strokeColor,btn) {\n\t\t\t// 开始绘制\n\t\t\tctx.beginPath()\n\t\t\t// 绘制左上角圆弧 Math.PI = 180度\n\t\t\t// 圆心x起点、圆心y起点、半径、以3点钟方向顺时针旋转后确认的起始弧度、以3点钟方向顺时针旋转后确认的终止弧度\n\t\t\tctx.arc(x + r, y + r, r, Math.PI, Math.PI * 1.5)\n\t\t\t// 绘制border-top\n\t\t\t// 移动起点位置 x终点、y终点\n\t\t\tctx.moveTo(x + r, y)\n\t\t\t// 画一条线 x终点、y终点\n\t\t\tctx.lineTo(x + w - r, y)\n\t\t\t// 绘制右上角圆弧\n\t\t\tctx.arc(x + w - r, y + r, r, Math.PI * 1.5, Math.PI * 2)\n\t\t\t// 绘制border-right\n\t\t\tctx.lineTo(x + w, y + h - r)\n\t\t\t// 绘制右下角圆弧\n\t\t\t\n\t\t\tctx.arc(x + w - r, y + h - r, r, 0, Math.PI * 0.5)\n\t\t\n\t\t\t// 绘制左下角圆弧\n\t\t\t\n\t\t\tctx.arc(x + r, y + h - r, r, Math.PI * 0.5, Math.PI)\n\t\t\t\n\t\t\t// 绘制border-left\n\t\t\tctx.lineTo(x, y + r)\n\t\t\tif(btn=='btn'){\n\t\t\t\tconst grd = ctx.createLinearGradient(0, 0, 200, 0)//渐变色\n\t\t\t\tgrd.addColorStop(0, fillColor)\n\t\t\t\tgrd.addColorStop(1, strokeColor)\n\t\t\t\t// 因为边缘描边存在锯齿，最好指定使用 transparent 填充\n\t\t\t\tctx.setFillStyle(grd)\n\t\t\t\t// 对绘画区域填充\n\t\t\t\tctx.fill()\n\t\t\t}else{\n\t\t\n\t\t\t\tif (fillColor) {\n\t\t\t\t// 因为边缘描边存在锯齿，最好指定使用 transparent 填充\n\t\t\t\tctx.setFillStyle(fillColor)\n\t\t\t\t// 对绘画区域填充\n\t\t\t\tctx.fill()\n\t\t\t\t}\n\t\t\t\tif (strokeColor) {\n\t\t\t\t// 因为边缘描边存在锯齿，最好指定使用 transparent 填充\n\t\t\t\tctx.setStrokeStyle(strokeColor)\n\t\t\t\t// 画出当前路径的边框\n\t\t\t\tctx.stroke()\n\t\t\t\t}\n\t\t\t}\n\t\t\t// 关闭一个路径\n\t\t\tctx.closePath()\n\t\t\t// 剪切，剪切之后的绘画绘制剪切区域内进行，需要save与restore 这个很重要 不然没办法保存\n\t\t\tctx.clip()\n\t\t},\n\t\t\n\t\t/**\n\t\t* canvas绘图相关，把文字转化成只能行数，多余显示省略号\n\t\t* ctx: 当前的canvas\n\t\t* text: 文本\n\t\t* contentWidth: 文本最大宽度\n\t\t* lineNumber: 显示几行\n\t\t*/\n\t\tcanvasMultiLineText(ctx, text, contentWidth, lineNumber) {\n\t\t\tvar textArray = text.split(\"\"); // 分割成字符串数组\n\t\t\tvar temp = \"\";\n\t\t\tvar row = [];\n\t\t\tfor (let i = 0; i < textArray.length; i++) {\n\t\t\t\tif (ctx.measureText(temp).width < contentWidth) {\n\t\t\t\ttemp += textArray[i];\n\t\t\t\t} else {\n\t\t\t\ti--; // 这里添加i--是为了防止字符丢失\n\t\t\t\trow.push(temp);\n\t\t\t\ttemp = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\trow.push(temp);\n\t\t\n\t\t\t// 如果数组长度大于2，则截取前两个\n\t\t\tif (row.length > lineNumber) {\n\t\t\t\tvar rowCut = row.slice(0, lineNumber);\n\t\t\t\tvar rowPart = rowCut[1];\n\t\t\t\tvar test = \"\";\n\t\t\t\tvar empty = [];\n\t\t\t\tfor (var a = 0; a < rowPart.length; a++) {\n\t\t\t\tif (ctx.measureText(test).width < contentWidth) {\n\t\t\t\t\ttest += rowPart[a];\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tempty.push(test); // 处理后面加省略号\n\t\t\t\tvar group = empty[0] + '...'\n\t\t\t\trowCut.splice(lineNumber - 1, 1, group);\n\t\t\t\trow = rowCut;\n\t\t\t}\n\t\t\treturn row;\n\t\t},\n\t\t// 获取海报的小程序码\n\t\tcodeImg(){\n\t\t\treturn new Promise((resolve,reject)=>{\n\t\t\t\trequest({\n\t\t\t\t\tmethod: 'get',\n\t\t\t\t\turl:'/spSupport/getwxacodeunlimit',\n\t\t\t\t\theader: { 'Content-Type': 'application/x-www-form-urlencoded' },\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tversion:this.$parent.globalData.version,\n\t\t\t\t\t\tscene:`sku=${this.sku}`,\n\t\t\t\t\t\tpage:\"pages/product/detail\",\n\t\t\t\t\t\twidth:\"128px\",\n\t\t\t\t\t},\n\t\t\t\t}).then((res)=>{\n\t\t\t\t\tif (res.data.code==0) {\n\t\t\t\t\tconst fsm = wx.getFileSystemManager();\n\t\t\t\t\t\tconst FILE_BASE_NAME = 'tmp_img_src';\n\t\t\t\t\t\tlet filePath = `${wx.env.USER_DATA_PATH}/${FILE_BASE_NAME}.jpg`;\n\t\t\t\t\t\tfsm.writeFile({\n\t\t\t\t\t\t\tfilePath,\n\t\t\t\t\t\t\tdata: res.data.data,\n\t\t\t\t\t\t\tencoding: 'binary',\n\t\t\t\t\t\t\tsuccess() {\n\t\t\t\t\t\t\t\tresolve(filePath)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail() {\n\t\t\t\t\t\t\t\tthis.canvasFlag=true;\n\t\t\t\t\t\t\t\tuni.showToast({title:'海报生成失败',duration:2000,icon:'none'});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({title: res.data.message, icon: 'none',duration: 2000,icon:'none'})\n\t\t\t\t\t}\n\t\t\t\t}).catch(()=>{\n\t\t\t\t\tthis.canvasFlag=true;\n\t\t\t\t\tuni.showToast({title:'海报生成失败',duration:2000,icon:'none'});\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t\n\t\t\n\t\t// 生成海报\n\t\tcreateCanvasImage() {\n\t\t\tconsole.log(this.posterObj,'posterObj')\n\t\t\t// this.canvasFlag=false;\n\t\t\t// this.deliveryFlag = false;//关闭分享的弹窗\n\t\t\tconsole.log(\"海报生成中\")\n\t\t\twx.showLoading({\n\t\t\t\ttitle: '海报生成中...'\n\t\t\t})\n\t\t\tlet _this = this;\n\t\t\tlet phoneData = wx.getSystemInfoSync();\n\t\t\tthis.phoneH = phoneData.windowHeight;\n\t\t\tthis.phoneW = phoneData.windowWidth;\n\t\t\tlet scaleW = this.phoneW/375;//按照苹果留 375*667比例 其他型号手机等比例缩放 显示\n\t\t\tlet scaleH = this.phoneH/667;//按照苹果留 375*667比例 其他型号手机等比例缩放 显示\n\t\t\tconsole.log(this.phoneH,this.phoneW)\n\t\t\tconst ctx = wx.createCanvasContext('myCanvas');\n\t\t\tlet url=this.posterObj.url;//商品主图\n\t\t\tlet code=this.posterObj.code\n\t\t\tlet closeBtn='https://imgzuipin.oss-cn-hangzhou.aliyuncs.com/mp_zuipin/poster/close_btn.png'\n\t\tconsole.log(ctx)\n\t\tconsole.log(this)\n\n\t\t\tctx.draw()//清空原来的画图内容\n\t\t\tctx.save();\n\t\t\tthis.roundRect(ctx,50,40,(this.phoneW-100), (this.phoneH-170),10,'#fff','#fff');//绘制海报圆角背景白色的\n\t\t\tctx.restore(); //恢复之前保存的绘图上下文 恢复之前保存的绘图上下午即状态 可以继续绘制\n\t\t\tctx.save();\n\t\t\tthis.roundRect(ctx,50,40,(this.phoneW-100), (320)*scaleH,10,'#f7f7f7','#f7f7f7');//绘制海报圆角背景 上半截灰色的\n\t\t\tctx.restore();\n\t\t\t//将网络图片转成本地路径 商品图片\n\t\t    wx.getImageInfo({\n\t\t       src: url,\n\t\t       success(res) {\n\t\t\t\t\tctx.save();\n\t\t\t\t\t//覆盖绘制\n\t\t\t\t\t//问题：在微信小程序使用canvas绘制圆角图片时，微信调试工具正常显示，android真机都不显示。\n\t\t\t\t\t// 原因：因为ctx.clip()剪切区域使用的填充颜色是透明的，所以图片没出来。\n\t\t\t\t\t// 解决方案：将剪切区域设置成实体颜色就好了。\n\t\t\t\t\t_this.roundRect(ctx,(_this.phoneW-((_this.phoneW-130)))/2,55,(_this.phoneW-130), 250*scaleH,10,'#f7f7f7','#f7f7f7')//绘制图片圆角背景\n\t\t\t\t\tctx.drawImage(res.path, (_this.phoneW-((_this.phoneW-130)))/2,55,(_this.phoneW-130), 250*scaleH,10);//绘制图\n\t\t\t\t\tctx.restore(); //恢复之前保存的绘图上下文 恢复之前保存的绘图上下午即状态 可以继续绘制\n\t\t\t\t\tctx.draw(true)\n\t\t\t   } ,\n\t\t\t\tfail(){\n\t\t\t\t\t_this.canvasFlag=true;\n\t\t\t\t\tuni.showToast({title:'海报生成失败',duration:2000,icon:'none'});\n\t\t\t\t}\n\t\t\t})\n\t\t\t// 关闭按钮\n\t\t\twx.getImageInfo({\n\t\t        src: closeBtn,\n\t\t        success(res) {\n\t\t\t\t\tctx.drawImage(res.path,50+(_this.phoneW-100)+5,40,24, 24)\n\t\t\t\t\tctx.draw(true)\n\t\t      }  ,\n\t\t\t\tfail(){\n\t\t\t\t\t_this.canvasFlag=true;\n\t\t\t\t\tuni.showToast({title:'海报生成失败',duration:2000,icon:'none'});\n\t\t\t\t}\n\t\t\t})\n\t\t\t// 关闭按钮 end\n\t\t\t// 海报商品title\n\t\t\tsetTimeout(()=>{\n\t\t\t\tctx.setGlobalAlpha(1)//不透明\n\t\t\t\tctx.setFillStyle('#1c1c1c')//文字颜色：默认黑色\n\t\t\t\tctx.setFontSize(20)//设置字体大小，默认10\n\t\t\t\tctx.font = 'normal bold 14px sans-serif';\n\t\t\t\tlet text =this.posterObj.title;\n\t\t\t\tlet row = this.canvasMultiLineText(ctx,text,(this.phoneW-130),2);//计算绘制的2行文本\n\t\t\t\tlet contentTextY = 360; // 这段文字起始的y位置\n\t\t\t\tlet leftSpace = 65; // 这段文字起始的X位置\n\t\t\t\tlet textLineHeight = 18; // 一行文字加一行行间距\n\t\t\t\tfor (let b = 0; b < row.length; b++) {//一行一行绘制文本\n\t\t\t\t\tctx.fillText(row[b], leftSpace, (contentTextY+ textLineHeight * b-10)*scaleH, (this.phoneW-130));\n\t\t\t\t\tctx.draw(true)\n\t\t\t\t}\n\t\t\t},500)\n\t\t\t\twx.getImageInfo({\n\t\t\t       src: code,\n\t\t\t       success(res) {\n\t\t\t\t\tctx.drawImage(res.path,(_this.phoneW-70)/2,380*scaleH, 70,70)\n\t\t\t\t\tctx.draw(true)\n\t\t\t      },\n\t\t\t\t\tfail(){\n\t\t\t\t\t\t_this.canvasFlag=true;\n\t\t\t\t\t\tuni.showToast({title:'海报生成失败',duration:2000,icon:'none'});\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t// });\n\t\t\t\n\t\t\t// 小程序码end\n\t\t\t// 小程序的名称\n\t\t\tctx.setFontSize(14)\n\t\t\tctx.setFillStyle('#2f1709')//文字颜色：默认黑色\n\t\t\tctx.font = 'normal bold 14px sans-serif';\n\t\t\tctx.fillText('小榔头记账', (_this.phoneW-75)/2, 480*scaleH,100);\n\t\t\t// 小程序的名称end\n\t\t\t// 长按/扫描识别查看商品\n\t\t\tctx.setFontSize(14)\n\t\t\tctx.setFillStyle('#ff5f33')//文字颜色：默认黑色\n\t\t\tctx.font = 'normal 14px sans-serif';\n\t\t\tctx.fillText('长按/扫描识别小程序', (_this.phoneW-140)/2, 500*scaleH,150);\n\t\t\t// 长按/扫描识别查看商品end\n\t\t\t//绘制保存按钮\n\t\t\tctx.save(); \n\t\t\tthis.roundRect(ctx,(this.phoneW-160)/2,(this.phoneH-120),160, 36,18,'#ff3600','#ff6a00','btn')\n\t\t\tctx.restore(); \n\t\t\tctx.setFontSize(14)\n\t\t\tctx.setFillStyle('#fff')//文字颜色：默认黑色\n\t\t\tctx.font = 'normal bold 14px sans-serif';\n\t\t\tctx.fillText('保存图片', (_this.phoneW-58)/2, (this.phoneH-98),58);\n\t\t\t//绘制保存按钮 end\n\t\t\twx.hideLoading();\n\t\t},\n\t\t\n\t\t// 保存到系统相册\n\t\tsaveCanvasImage(){\n\t\t\tconsole.log('点击了保存')\n\t\t\twx.showLoading({\n\t\t\t\ttitle: '保存中...'\n\t\t\t})\n\t\t\tlet _this = this;\n\t\t\t// 1-把画布转化成临时文件\n\t\t\tuni.canvasToTempFilePath({\n\t\t\tx: 50,\n\t\t\ty: 40,\n\t\t\twidth:(this.phoneW-100),    // 画布的宽\n\t\t\theight: (this.phoneH-120),   // 画布的高\n\t\t\tdestWidth: (this.phoneW-100)*5,\n\t\t\tdestHeight: (this.phoneH-120)*5,\n\t\t\tcanvasId: 'myCanvas',\n\t\t\tsuccess(res) {\n\t\t\t\t// 2-保存图片至相册\n\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\tfilePath: res.tempFilePath,\n\t\t\t\tsuccess(res2) {\n\t\t\t\t\twx.hideLoading();\n\t\t\t\t\tuni.showToast({title: '图片保存成功，可以去分享啦~', duration: 2000})\n\t\t\t\t\t_this.canvasCancelEvn();\n\t\t\t\t},\n\t\t\t\tfail() {\n\t\t\t\t\tuni.showToast({title: '保存失败，稍后再试', duration: 2000,icon:'none'})\n\t\t\t\t\twx.hideLoading();\n\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tfail() {\n\t\t\t\tuni.showToast({title: '保存失败，稍后再试',duration: 2000,icon:'none'})\n\t\t\t\twx.hideLoading();\n\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 取消海报\n\t\tcanvasCancelEvn(){\n\t\t\tconsole.log()\n\t\t\tthis.$emit('cancel',true)\n\t\t}\n\t}\n}\n","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./hch-poster.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./hch-poster.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}